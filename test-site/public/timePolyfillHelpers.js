!function(){"use strict";var e={hrs:{start:0,end:2},min:{start:3,end:5},mode:{start:6,end:8}},t=Object.keys(e);function n(e){return isNaN(e)?e:parseInt(e)}function r(e){return e<=12?0===e?12:e:e-12}function i(e){if(isNaN(e))return e;var t=parseInt(e);return t<10?"0"+t:e}function o(e){if(""===e)return"--:-- --";var t=/([0-9]{2})\:([0-9]{2})/.exec(e),o=n(t[1]),u=t[2],a=o>=12?"PM":"AM";return[i(r(o)),":",u," ",a].join("")}function u(t){var n=function(e){return{start:e.selectionStart,end:e.selectionEnd}}(t);for(var r in e){var i=e[r],o=i.start<=n.start,u=i.end>=n.end;if(o&&u)return r}return"hrs"}function a(e,t){var n;function r(t,n){return function(){e.setSelectionRange(t,n)}}n="mode"===t?"text":"tel",e.setAttribute("type",n),{hrs:r(0,2),min:r(3,5),mode:r(6,8)}[t](e)}function l(e,t){var r=t||e.value,i=/([0-9-]{1,2})\:([0-9-]{1,2})\s?(AM|PM|\-\-)?/.exec(r);return{hrs:n(i[1]),min:n(i[2]),mode:i[3]}}function s(e,t){setTimeout((function(){var n=u(e),r=l(e)[n],i="--"==r?"blank":r,o={hrs:"Hours",min:"Minutes",mode:"AM/PM"}[n],a={initial:"$label grouping $fullValue.",select:"$segmentName spin button $segmentValue.",update:"$segmentValue."},s=t.map((function(e){return a[e]?a[e]:e})),c=e.value.replace(/--/g,"blank"),f="<p>"+s.join("</p><p>")+"</p>";f=(f=(f=(f=f.replace(/\$label/g,e.polyfill.label)).replace(/\$segmentName/g,o)).replace(/\$segmentValue/g,i)).replace(/\$fullValue/g,c),e.polyfill.$a11y.innerHTML=f}),1)}function c(e,n){var r=u(e),i="next"===n?1:-1,o=t.indexOf(r)+i;a(e,{next:t[o]||"mode",prev:o<0?"hrs":t[o]}[n]),s(e,["select"])}function f(){this.items=[]}Element.prototype.matches=Element.prototype.matches||Element.prototype.msMatchesSelector,f.prototype.clear=function(){this.items=[]},f.prototype.add=function(e){this.items.push(parseInt(e))};window.timePolyfillHelpers={segments:t,convert_to_12hr_time:o,convert_to_24hr_time:function(e){if(/-/.test(e))return"";var t,n=e.indexOf("PM")>-1,r=/^([0-9]{2})/.exec(e),o=r?parseInt(r[1]):"",u=24===(t=12===o?n?12:0:n?o+12:o)?0:t;return e.replace(/^[0-9]{2}:([0-9]{2}) (AM|PM)/,i(u)+":$1")},convert_hours_to_12hr_time:r,select_cursor_segment:function(e){a(e,u(e))},select_segment:a,next_segment:function(e){c(e,"next")},prev_segment:function(e){c(e,"prev")},get_label:function(e){var t=function(e){var t=e.getAttribute("aria-labelledby");if(t){var n=document.getElementById(t);if(n)return n.textContent}return!1}(e)||function(e){var t=e.getAttribute("aria-label");return t||!1}(e)||function(e){if(e.id){var t=document.querySelector('label[for="'+e.id+'"]');if(t)return t.textContent}return!1}(e)||function(e){var t=function(e,t){for(var n=e,r=[];n;){if(r.push(n),n.msMatchesSelector?n.msMatchesSelector(t):n.matches(t))return r;n=n.parentElement}return r}(e,"label"),n=t[t.length-1];return"LABEL"==n.nodeName&&n.textContent}(e)||function(e){var t=e.getAttribute("title");return t||!1}(e);if(t)return t;throw console.error("Label text for input not found.",e),new Error("Cannot polyfill time input due to a missing label.")},get_current_segment:u,get_values:l,get_values_from_24hr:function(e){return l(null,o(e))},create_a11y_block:function(){var e=document.createElement("div");return e.setAttribute("aria-live","assertive"),e.setAttribute("style","position: absolute; opacity: 0; height: 0; width: 0; overflow: hidden; pointer-events: none;"),e.classList.add("time-input-polyfill-accessibility-block"),document.querySelector("body").appendChild(e),e},update_a11y:s,manual_entry_log:f}}();
