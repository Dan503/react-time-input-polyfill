(this["webpackJsonpreact-time-input-polyfill"]=this["webpackJsonpreact-time-input-polyfill"]||[]).push([[0],{304:function(t,e,n){"use strict";n.r(e);var l=n(1),r=n(39),i=n.n(r),u=(n(54),n(11)),o=(n(55),n(48)),a=n(10),s=n(6),c=n(40),h=n(41),p=n(49),m=n(47),f=n(22),y=n(42),v=!1,d=function(t){if(isNaN(t))return t;var e=parseInt(t);return e<10?"0"+e:t};window.addEventListener("keyup",(function(t){return v=t.shiftKey})),window.addEventListener("keydown",(function(t){return v=t.shiftKey}));var g,_=!1,b="react-time-input-polyfill-target",j=document.createElement("style");j.innerHTML=".".concat(b,"::-ms-clear { display: none; }"),document.getElementsByTagName("head")[0].appendChild(j);var k=function(t){Object(p.a)(n,t);var e=Object(m.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this,t)).$input=l.createRef(),r.focused_via_click=!1,r.state={time:{hrs:"--",min:"--",mode:"--"},value24hr:t.value||"",currentSegment:null,usePolyfill:!f.a,forcedValue:null},r}return Object(h.a)(n,[{key:"onPolyfillLoad",value:function(t){this.polyfill=t,this.setState({usePolyfill:!0,time:this.polyfill.get_values_from_24hr(this.state.value24hr)}),_||(g=this.polyfill.create_a11y_block(),_=!0),this.manual_entry_log={hrs:new this.polyfill.manual_entry_log,min:new this.polyfill.manual_entry_log};var e=this.$input.current;e.polyfill={label:this.polyfill.get_label(e),$a11y:g}}},{key:"update_a11y",value:function(t){if(!this.state.usePolyfill)return null;this.polyfill.update_a11y(this.$input.current,t)}},{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){var e;t.flash24hrTime=(e=t,function(){e.state.usePolyfill&&(e.setState({forcedValue:e.state.value24hr}),setTimeout((function(){return e.setState({forcedValue:null})}),1))}),t.$input.current.form&&t.$input.current.form.addEventListener("submit",t.flash24hrTime)}),0),!this.props.forcePolyfill&&f.a||function(t,e){if(window.timePolyfillHelpers)return e(),null;Object(y.a)(t||"https://cdn.jsdelivr.net/npm/react-time-input-polyfill@1/dist/timePolyfillHelpers.js",e)}(this.props.polyfillSource,(function(){t.onPolyfillLoad(window.timePolyfillHelpers)}))}},{key:"componentWillUnmount",value:function(){this.$input.current.form&&this.$input.current.form.removeEventListener("submit",this.flash24hrTime)}},{key:"componentDidUpdate",value:function(t,e){var n=t.value!==this.props.value,l=e.value24hr!==this.state.value24hr;if(!n&&!l)return null;l?this.onTimeChange():n&&this.set_time(this.props.value)}},{key:"set_time",value:function(t){var e=t.split(":").map((function(t){return isNaN(t)?t:parseInt(t)})),n=Object(u.a)(e,2),l=n[0],r=n[1],i=this.state.usePolyfill?{hrs:this.polyfill.convert_hours_to_12hr_time(l),min:r,mode:l>12?"PM":"AM"}:null;this.setState({time:this.state.usePolyfill?t?i:{hrs:"--",min:"--",mode:"--"}:null,value24hr:t})}},{key:"nudge_current_segment",value:function(t){var e=this,n=this.state.currentSegment,l=this.state.time,r={},i="up"===t?1:-1;if("--"===l[n]){var u=function(){return new Date};r={hrs:function(){return e.polyfill.convert_hours_to_12hr_time(u().getHours())},min:function(){return u().getMinutes()},mode:function(){return u().getHours()>11?"PM":"AM"}}}else{var o={up:l.min<59?l.min+i:0,down:0===l.min?59:l.min+i};r={hrs:function(){return e.polyfill.convert_hours_to_12hr_time(l.hrs+i)},min:function(){return o[t]},mode:function(){return"AM"===l.mode?"PM":"AM"}}}this.set_segment(n,r[n]())}},{key:"get_12hr_value",value:function(t){var e=t||this.state.time;return e?[d(e.hrs),":",d(e.min)," ",e.mode].join(""):""}},{key:"set_segment",value:function(t,e){var n=Object(s.a)(Object(s.a)({},this.state.time),{},Object(a.a)({},t,isNaN(e)?e:parseInt(e))),l=this.get_12hr_value(n),r=this.polyfill.convert_to_24hr_time(l);this.setState({time:n,value24hr:r})}},{key:"traverse_segments",value:function(t){var e=this,n=this.polyfill.segments,l="left"===t?-1:1,r=n.indexOf(this.state.currentSegment)+l,i=n[r<=0?0:r>=2?2:r];this.clear_entry_log(),this.setState({currentSegment:i}),setTimeout((function(){e.update_a11y(["select"])}),0)}},{key:"clear_entry_log",value:function(){var t=this.state.currentSegment;"mode"!==t&&this.manual_entry_log[t].clear()}},{key:"next_segment",value:function(){this.traverse_segments("right")}},{key:"prev_segment",value:function(){this.traverse_segments("left")}},{key:"clear_current_segment",value:function(){this.set_segment(this.state.currentSegment,"--")}},{key:"onTimeChange",value:function(){var t=this;this.props.onChange&&this.props.onChange({value:this.state.value24hr,element:this.$input.current}),setTimeout((function(){t.update_a11y(["update"])}),0)}},{key:"handleChange",value:function(t){if(this.state.usePolyfill)return null;this.setState({value24hr:t.target.value})}},{key:"handleMouseDown",value:function(t){this.props.onMouseDown&&this.props.onMouseDown(t),this.focused_via_click=!0,this.$input.current.matches(":focus")&&this.update_a11y(["select"])}},{key:"handleClick",value:function(t){if(this.props.onClick&&this.props.onClick(t),!this.state.usePolyfill)return null;this.polyfill.select_cursor_segment(this.$input.current),this.setState({currentSegment:this.polyfill.get_current_segment(this.$input.current)})}},{key:"handleFocus",value:function(t){if(this.props.onFocus&&this.props.onFocus(t),!this.state.usePolyfill)return null;var e=v?"mode":"hrs";this.focused_via_click||this.setState({currentSegment:e}),this.update_a11y(["initial","select"])}},{key:"handleBlur",value:function(t){this.props.onBlur&&this.props.onBlur(t),this.focused_via_click=!1,this.setState({currentSegment:null})}},{key:"handleTab",value:function(t){t.shiftKey&&"hrs"!==this.state.currentSegment?(t.preventDefault(),this.prev_segment()):t.shiftKey||"mode"===this.state.currentSegment||(t.preventDefault(),this.next_segment())}},{key:"handleKeyDown",value:function(t){var e=this;if(this.props.onKeyDown&&this.props.onKeyDown(t),!this.state.usePolyfill)return null;var n=t.key,l={ArrowRight:function(){return e.next_segment()},ArrowLeft:function(){return e.prev_segment()},ArrowUp:function(){return e.nudge_current_segment("up")},ArrowDown:function(){return e.nudge_current_segment("down")},Delete:function(){return e.clear_current_segment()},Backspace:function(){return e.clear_current_segment()},numberKey:function(){return e.enter_number(t.key)},A_or_P:function(){return e.enter_A_or_P(t.key)}},r=/\d/.test(t.key),i=/[ap]/i.test(t.key);"Tab"===n?this.handleTab(t):l[n]?(t.preventDefault(),l[n]()):r?l.numberKey():i?l.A_or_P():"Escape"!==n&&t.preventDefault()}},{key:"enter_A_or_P",value:function(t){var e=/a/i.test(t);this.set_segment("mode",e?"AM":"PM")}},{key:"enter_number",value:function(t){var e=this.state.currentSegment,n=parseInt(t),l=this.manual_entry_log[e],r=l.items.length,i={hrs:[1,2],min:[5,9]},u=i[e][r];r<2&&l.add(n),"hrs"===e&&"00"===l.items.join("")&&(l.items=[1,2]);var o=parseInt(i[e].join("")),a=parseInt(l.items.join(""));o>=a&&this.set_segment(e,a),(n>u||2===l.items.length)&&this.next_segment()}},{key:"render",value:function(){var t=this,e=this.props,n=(e.value,e.forcePolyfill,e.className),r=(e.polyfillSource,Object(o.a)(e,["value","forcePolyfill","className","polyfillSource"])),i=this.state,u=i.usePolyfill,a=i.value24hr,c=i.currentSegment,h=i.forcedValue,p=u?this.get_12hr_value():null;if(u&&null!==c){setTimeout((function(){return t.polyfill.select_segment(t.$input.current,c)}),0)}var m=this.state.usePolyfill?b:"";return l.createElement("input",Object(s.a)(Object(s.a)({},r),{},{onChange:function(e){return t.handleChange(e)},onFocus:function(e){return t.handleFocus(e)},onBlur:function(e){return t.handleBlur(e)},onMouseDown:function(e){return t.handleMouseDown(e)},onClick:function(e){return t.handleClick(e)},onKeyDown:function(e){return t.handleKeyDown(e)},ref:this.$input,type:u?"text":"time",value:u?h||p:a,className:[n||"",m].join(" ").trim()||void 0}),null)}}]),n}(l.Component),w=n(308),x=n(307),S=n(0),O=function(t){var e=t.label,n=t.Input,r=t.codeString,i=Object(l.useState)("20:30"),o=Object(u.a)(i,2),a=o[0],s=o[1];return Object(S.jsxs)("form",{style:{marginBottom:"2em"},onSubmit:function(t){return t.preventDefault()},children:[Object(S.jsxs)("h2",{children:[e," time input"]}),Object(S.jsxs)("label",{style:{display:"inline-block"},children:[Object(S.jsxs)("span",{style:{marginRight:"0.5em"},children:[e," time input"]}),Object(S.jsx)(n,{currentValue:a,setValue:s,className:"exampleClass"})]}),Object(S.jsxs)("p",{children:[Object(S.jsxs)("button",{onClick:function(){return s("07:15")},children:["Set ",e," time to 7:15 AM"]}),Object(S.jsxs)("button",{onClick:function(){return s("15:45")},children:["Set ",e," time to 3:45 PM"]}),Object(S.jsxs)("button",{onClick:function(){return s("")},children:["Set ",e,' time to ""']})]}),Object(S.jsxs)("p",{children:[e,' returned value: "',a,'"']}),!!r&&Object(S.jsx)(w.a,{style:x.a,className:"code",language:"javascript",showLineNumbers:!0,children:r.replace(/^\n/,"")})]})};var P=function(){return Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)("h1",{children:"React Time Input Polyfill"}),Object(S.jsx)("p",{children:"Code examples are simplified guides, not exact code replicas."}),Object(S.jsx)(w.a,{style:x.a,className:"code centered",language:"text",showLineNumbers:!1,children:"npm install react-time-input-polyfill"}),Object(S.jsx)("p",{children:Object(S.jsx)("a",{href:"https://github.com/Dan503/react-time-input-polyfill#react-time-input-polyfill",children:"Visit me on GitHub"})}),Object(S.jsx)(O,{label:"Non-forced polyfill",Input:function(t){var e=t.currentValue,n=t.setValue,l=t.className;return Object(S.jsx)(k,{value:e,onChange:function(t){var e=t.value;return n(e)},className:l,polyfillSource:false})},codeString:"\n/* TimeInput.js */\n\nimport React from 'react'\n\n// Import the component into your project\nimport TimeInputPolyfill from 'react-time-input-polyfill'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<TimeInputPolyfill\n\n\t\t\t\t// set the value through props\n\t\t\t\tvalue={currentValue}\n\n\t\t\t\t// onChange will run every time the value is updated\n\t\t\t\tonChange={({ value, element }) => {\n\t\t\t\t\tconsole.log({\n\n\t\t\t\t\t\t// The current value in 24 hour time format\n\t\t\t\t\t\tvalue,\n\n\t\t\t\t\t\t// The <input> HTML element\n\t\t\t\t\t\telement,\n\n\t\t\t\t\t})\n\n\t\t\t\t\t// Export the new value to the parent component\n\t\t\t\t\tonInputChange(value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}\n\n///////////////////////////////////////////////////\n\n/* ExampleForm.js */\n\nimport React, { useState } from 'react'\n\n// import your local time input component into your form component\nimport { TimeInput } from './TimeInput'\n\nexport const ExampleForm = ()=> {\n\n\t// Use state to keep track of the value\n\tconst [inputValue, setInputValue] = useState('20:30') // default to 8:30 PM\n\n\treturn (\n\t\t<form>\n\t\t\t<TimeInput\n\t\t\t\tlabel=\"Label text\"\n\n\t\t\t\t// Use the state value to set the time\n\t\t\t\tcurrentValue={inputValue}\n\n\t\t\t\t// Use the set state function to update the time when it changes\n\t\t\t\tonInputChange={ newValue => setInputValue(newValue) }\n\t\t\t/>\n\t\t\t<button type=\"submit\">Submit</button>\n\t\t</form>\n\t)\n}\n"}),Object(S.jsx)(O,{label:"Forced polyfill",Input:function(t){var e=t.currentValue,n=t.setValue;t.className;return Object(S.jsx)(k,{value:e,onChange:function(t){var e=t.value;return n(e)},forcePolyfill:!0,polyfillSource:false})},codeString:"\n/* TimeInput.js */\n\nimport React from 'react'\nimport TimeInputPolyfill from 'react-time-input-polyfill'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<TimeInputPolyfill\n\t\t\t\tvalue={currentValue}\n\n\t\t\t\t/*  Force browsers that support input[type=time]\n\t\t\t\t    to use the polyfill.\n\t\t\t\t    (useful for testing and debugging)\n\t\t\t\t*/  forcePolyfill={true}\n\n\t\t\t\tonChange={({ value, element }) => {\n\t\t\t\t\tonInputChange(value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}\n"}),Object(S.jsx)(O,{label:"Non-polyfill",Input:function(t){var e=t.currentValue,n=t.setValue,l=t.className;return Object(S.jsx)("input",{type:"time",value:e,onChange:function(t){return n(t.target.value)},className:l})},codeString:"\n/* TimeInput.js */\n\n// View this example in Internet Explorer\n// This is a normal time input with no polyfill applied\n\nimport React from 'react'\n\nexport const TimeInput = ({ label, currentValue, onInputChange }) => {\n\treturn (\n\t\t<label>\n\t\t\t<span>{label}</span>\n\t\t\t<input\n\t\t\t\ttype=\"time\"\n\t\t\t\tvalue={currentValue}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tconsole.log(e) // the default browser event\n\t\t\t\t\tonInputChange(e.target.value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</label>\n\t)\n}"})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(S.jsx)(P,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},54:function(t,e,n){},55:function(t,e,n){}},[[304,1,2]]]);
//# sourceMappingURL=main.11c795fe.chunk.js.map